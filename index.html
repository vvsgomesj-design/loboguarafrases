<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lobo GuarÃ¡ - Menu e CriaÃ§Ã£o</title>
    <style>
        :root { --primary: #1565C0; --success: #4CAF50; --danger: #FF5252; --bg: #E3F2FD; }
        
        body { font-family: 'Comic Sans MS', sans-serif; background: var(--bg); text-align: center; padding: 20px; cursor: none; margin: 0; min-height: 100vh; }
        h1 { color: var(--primary); margin-bottom: 30px; }
        
        /* Grid de BotÃµes do Jogo */
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px; max-width: 1200px; margin: 0 auto; }
        
        .card { 
            background: white; padding: 20px; border-radius: 25px; border: 4px solid #BBDEFB; 
            text-decoration: none; color: var(--primary); font-weight: bold; 
            display: flex; flex-direction: column; align-items: center; justify-content: center; 
            font-size: 1.1rem; transition: 0.2s; box-shadow: 0 6px 0 #BBDEFB;
        }
        .card:active { transform: translateY(6px); box-shadow: none; }
        .card span { font-size: 2.5rem; margin-bottom: 10px; }

        /* Painel de CriaÃ§Ã£o dos Pais */
        .painel-criar { 
            background: white; border: 4px dashed var(--primary); padding: 25px; 
            border-radius: 30px; max-width: 550px; margin: 50px auto; 
            box-shadow: 0 10px 20px rgba(0,0,0,0.05);
        }
        
        #container-palavras { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 15px 0; }
        
        .painel-criar input { 
            padding: 12px; border-radius: 12px; border: 2px solid #ddd; 
            font-size: 1rem; outline: none; transition: 0.3s;
        }
        .painel-criar input:focus { border-color: var(--primary); }

        /* Campos que ocupam a linha toda */
        #novoEmoji, #novoID { grid-column: span 2; width: calc(100% - 28px); margin: 0 auto; }

        .btn-salvar { 
            background: var(--success); color: white; border: none; padding: 18px; 
            border-radius: 15px; font-weight: bold; font-size: 1.1rem; cursor: pointer; 
            width: 100%; margin-top: 10px; box-shadow: 0 5px 0 #2E7D32;
        }
        .btn-salvar:active { transform: translateY(3px); box-shadow: none; }

        /* Painel de Gerenciamento (Deletar) */
        .lista-gerenciamento { max-width: 550px; margin: 20px auto; background: #fff; border-radius: 20px; padding: 20px; }
        .item-gerencia { 
            display: flex; justify-content: space-between; align-items: center; 
            padding: 12px; border-bottom: 1px solid #eee; font-weight: bold;
        }
        .btn-deletar { 
            background: var(--danger); color: white; border: none; padding: 8px 15px; 
            border-radius: 10px; cursor: pointer; font-size: 0.9rem;
        }

        /* Cursor do Lobo */
        #cursor-lobo { position: fixed; width: 65px; pointer-events: none; z-index: 10000; transform: translate(-50%, -50%); left: -100px; }
    </style>
</head>
<body>

    <img src="lobo.png" id="cursor-lobo">

    <h1>Lobo GuarÃ¡: MissÃ£o Frases</h1>

    <div class="grid" id="grid-principal">
       <a href="fase.html?s=AGUA" class="card">ğŸ’§<br>Beber Ãgua</a>
<a href="fase.html?s=XIXI" class="card">ğŸš½<br>Ir ao Banheiro</a>
<a href="fase.html?s=PISCINA" class="card">ğŸŠ<br>Ir na Piscina</a>
<a href="fase.html?s=DORMIR" class="card">ğŸ˜´<br>Dormir</a>

<a href="fase.html?s=BANANA" class="card">ğŸŒ<br>Comer Banana</a>
<a href="fase.html?s=MACARRAO" class="card">ğŸ<br>Comer MacarrÃ£o</a>
<a href="fase.html?s=BISCOITO" class="card">ğŸª<br>Comer Biscoito</a>

<a href="fase.html?s=TV" class="card">ğŸ“º<br>Assistir TV</a>
<a href="fase.html?s=DESENHO" class="card">ğŸ–ï¸<br>Este Desenho</a>
<a href="fase.html?s=DESENHO_BAIXO" class="card">ğŸ‘‡<br>Desenho de Baixo</a>
<a href="fase.html?s=DESENHO_CIMA" class="card">â˜ï¸<br>Desenho de Cima</a>

<a href="fase.html?s=BOLA" class="card">âš½<br>Brincar de Bola</a>
<a href="fase.html?s=DOMINO" class="card">ğŸ«<br>Brincar de DominÃ³</a>
<a href="fase.html?s=CARRINHO" class="card">ğŸš—<br>Brincar com Carrinho</a>

<a href="fase.html?s=AMIGO" class="card">ğŸ§’<br>Brincar com Amigo</a>
<a href="fase.html?s=PAPAI" class="card">ğŸ‘¨<br>Brincar com o Papai</a>
<a href="fase.html?s=IRMAO" class="card">ğŸ‘¦<br>Brincar com o IrmÃ£o</a>
<a href="fase.html?s=VOVO" class="card">ğŸ‘´<br>Brincar com o VovÃ´</a>

<a href="fase.html?s=SHOPPING" class="card">ğŸ›ï¸<br>Passear no Shopping</a>
<a href="fase.html?s=VOVO_CASA" class="card">ğŸ¡<br>Casa da VovÃ³</a>
<a href="fase.html?s=CRECHE" class="card">ğŸ«<br>Ir para a Creche</a>

<a href="fase.html?s=ALFABETO" class="card">ğŸ”¤<br>Montar o Alfabeto</a>
<a href="fase.html?s=CANTAR" class="card">ğŸ¤<br>Cantar</a>

<a href="fase.html?s=ORACAO" class="card">ğŸ™<br>Fazer OraÃ§Ã£o</a>
<a href="fase.html?s=PAPAI_CEU" class="card">â˜ï¸<br>Falar com o Papai do CÃ©u</a>
<a href="fase.html?s=JESUS" class="card">â¤ï¸<br>Amo Jesus</a>
    </div>

    <hr style="margin: 60px 0; border: 1px solid #BBDEFB; opacity: 0.5;">

    <div class="painel-criar">
        <h2 style="color: var(--primary); margin-top: 0;">â• Nova Frase</h2>
        <p style="font-size: 0.9rem; color: #666;">
            ğŸ’¡ <b>Dica:</b> No computador, aperte <b>Win + .</b> para emojis!
        </p>
        
        <div id="container-palavras">
            <input type="text" id="novoEmoji" placeholder="Cole o Emoji aqui">
            <input type="text" id="novoID" placeholder="Nome do BotÃ£o (Ex: LANCHE)">
            
            <input type="text" class="palavra-input" placeholder="Palavra 1">
            <input type="text" class="palavra-input" placeholder="Palavra 2">
            <input type="text" class="palavra-input" placeholder="Palavra 3">
            <input type="text" class="palavra-input" placeholder="Palavra 4">
            <input type="text" class="palavra-input" placeholder="Palavra 5">
            <input type="text" class="palavra-input" placeholder="Palavra 6">
        </div>
        
        <button class="btn-salvar" onclick="salvarNovaFrase()">SALVAR FRASES NO CELULAR</button>
    </div>

    <div class="lista-gerenciamento" id="painel-exclusao">
        <h3 style="color: var(--danger);">ğŸ—‘ï¸ Gerenciar Minhas Frases</h3>
        <div id="lista-para-deletar"></div>
    </div>

    <script>
        // 1. MOVIMENTO DO LOBO
        const lobo = document.getElementById('cursor-lobo');
        const mover = (x, y) => { lobo.style.left = x + 'px'; lobo.style.top = y + 'px'; };
        document.addEventListener('mousemove', e => mover(e.clientX, e.clientY));
        document.addEventListener('touchmove', e => { 
            const t = e.touches[0]; mover(t.clientX, t.clientY); 
        }, {passive: false});

        // 2. SALVAR NOVA FRASE (LÃ³gica Multi-Palavras)
        function salvarNovaFrase() {
            const id = document.getElementById('novoID').value.toUpperCase().trim();
            const emoji = document.getElementById('novoEmoji').value || "âœ¨";
            const inputs = document.querySelectorAll('.palavra-input');
            let listaPalavras = [];
            
            inputs.forEach(input => {
                if(input.value.trim() !== "") {
                    listaPalavras.push(input.value.trim().toUpperCase());
                }
            });

            if(!id || listaPalavras.length === 0) {
                return alert("Ops! Digite o nome e pelo menos uma palavra.");
            }

            const fraseUnida = listaPalavras.join(' ');
            const somaTexto = listaPalavras.join(' + ');

            const novaFrase = {
                emoji: emoji,
                palavra: fraseUnida,
                soma_texto: somaTexto,
                fala_didatica: fraseUnida + "!",
                cor_fundo: "#F1F8E9",
                cor_contorno: "#4CAF50",
                proximo: "FIM"
            };

            let banco = JSON.parse(localStorage.getItem('minhasFrases') || '{}');
            banco[id] = novaFrase;
            localStorage.setItem('minhasFrases', JSON.stringify(banco));

            alert("Frase '" + id + "' pronta para jogar!");
            location.reload();
        }

        // 3. CARREGAR FRASES E GERENCIAR EXCLUSÃƒO
        const grid = document.getElementById('grid-principal');
        const listaDeletar = document.getElementById('lista-para-deletar');
        const salvas = JSON.parse(localStorage.getItem('minhasFrases') || '{}');
        const idsSalvos = Object.keys(salvas);

        if (idsSalvos.length === 0) {
            document.getElementById('painel-exclusao').style.display = 'none';
        }

        idsSalvos.forEach(id => {
            const dados = salvas[id];
            
            // Adicionar ao Menu
            const a = document.createElement('a');
            a.href = `fase.html?s=${id}&custom=true`;
            a.className = 'card';
            a.style.borderColor = "#4CAF50";
            a.innerHTML = `<span>${dados.emoji}</span>${id}`;
            grid.appendChild(a);

            // Adicionar Ã  lista de Deletar
            const item = document.createElement('div');
            item.className = 'item-gerencia';
            item.innerHTML = `
                <span>${dados.emoji} ${id}</span>
                <button class="btn-deletar" onclick="deletarFrase('${id}')">Excluir ğŸ—‘ï¸</button>
            `;
            listaDeletar.appendChild(item);
        });

        function deletarFrase(id) {
            if (confirm(`Quer mesmo apagar a frase "${id}"?`)) {
                let banco = JSON.parse(localStorage.getItem('minhasFrases') || '{}');
                delete banco[id];
                localStorage.setItem('minhasFrases', JSON.stringify(banco));
                location.reload();
            }
        }
    </script>
</body>
</html>
