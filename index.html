<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lobo GuarÃ¡ - Menu e CriaÃ§Ã£o</title>
    <style>
        body { font-family: 'Comic Sans MS', sans-serif; background: #E3F2FD; text-align: center; padding: 20px; cursor: none; }
        h1 { color: #1565C0; }
        
        /* Grid de BotÃµes Principais */
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; max-width: 1100px; margin: 0 auto; }
        .card { background: white; padding: 15px; border-radius: 20px; border: 4px solid #BBDEFB; text-decoration: none; color: #1565C0; font-weight: bold; display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: 1.1rem; transition: 0.2s; }
        .card:active { transform: translateY(5px); }

        /* PAINEL DE CRIAÃ‡ÃƒO */
        .painel-criar { 
            background: white; border: 4px dashed #1565C0; padding: 20px; 
            border-radius: 20px; max-width: 500px; margin: 40px auto; 
        }
        
        /* OrganizaÃ§Ã£o das palavras em 2 colunas */
        #container-palavras {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 15px 0;
        }

        .painel-criar input { 
            padding: 10px; border-radius: 10px; border: 2px solid #ddd; 
            font-family: sans-serif; font-size: 1rem;
        }

        /* Inputs de topo (Emoji e Nome) ocupam a linha toda */
        #novoEmoji, #novoID { grid-column: span 2; width: 95%; margin: 5px auto; }

        .btn-salvar { background: #4CAF50; color: white; border: none; padding: 15px 30px; border-radius: 10px; font-weight: bold; cursor: pointer; margin-top: 10px; width: 100%; }

        #cursor-lobo { position: fixed; width: 60px; pointer-events: none; z-index: 10000; transform: translate(-50%, -50%); left: -100px; }
    </style>
</head>
<body>

    <img src="lobo.png" id="cursor-lobo">

    <h1>O que vamos falar?</h1>

    <div class="grid" id="grid-principal">
        <a href="fase.html?s=AGUA" class="card">ğŸ’§<br>Beber Ãgua</a>
<a href="fase.html?s=XIXI" class="card">ğŸš½<br>Ir ao Banheiro</a>
<a href="fase.html?s=PISCINA" class="card">ğŸŠ<br>Ir na Piscina</a>
<a href="fase.html?s=DORMIR" class="card">ğŸ˜´<br>Dormir</a>

<a href="fase.html?s=BANANA" class="card">ğŸŒ<br>Comer Banana</a>
<a href="fase.html?s=MACARRAO" class="card">ğŸ<br>Comer MacarrÃ£o</a>
<a href="fase.html?s=BISCOITO" class="card">ğŸª<br>Comer Biscoito</a>

<a href="fase.html?s=TV" class="card">ğŸ“º<br>Assistir TV</a>
<a href="fase.html?s=DESENHO" class="card">ğŸ–ï¸<br>Este Desenho</a>
<a href="fase.html?s=DESENHO_BAIXO" class="card">ğŸ‘‡<br>Desenho de Baixo</a>
<a href="fase.html?s=DESENHO_CIMA" class="card">â˜ï¸<br>Desenho de Cima</a>

<a href="fase.html?s=BOLA" class="card">âš½<br>Brincar de Bola</a>
<a href="fase.html?s=DOMINO" class="card">ğŸ«<br>Brincar de DominÃ³</a>
<a href="fase.html?s=CARRINHO" class="card">ğŸš—<br>Brincar com Carrinho</a>

<a href="fase.html?s=AMIGO" class="card">ğŸ§’<br>Brincar com Amigo</a>
<a href="fase.html?s=PAPAI" class="card">ğŸ‘¨<br>Brincar com o Papai</a>
<a href="fase.html?s=IRMAO" class="card">ğŸ‘¦<br>Brincar com o IrmÃ£o</a>
<a href="fase.html?s=VOVO" class="card">ğŸ‘´<br>Brincar com o VovÃ´</a>

<a href="fase.html?s=SHOPPING" class="card">ğŸ›ï¸<br>Passear no Shopping</a>
<a href="fase.html?s=VOVO_CASA" class="card">ğŸ¡<br>Casa da VovÃ³</a>
<a href="fase.html?s=CRECHE" class="card">ğŸ«<br>Ir para a Creche</a>

<a href="fase.html?s=ALFABETO" class="card">ğŸ”¤<br>Montar o Alfabeto</a>
<a href="fase.html?s=CANTAR" class="card">ğŸ¤<br>Cantar</a>

<a href="fase.html?s=ORACAO" class="card">ğŸ™<br>Fazer OraÃ§Ã£o</a>
<a href="fase.html?s=PAPAI_CEU" class="card">â˜ï¸<br>Falar com o Papai do CÃ©u</a>
<a href="fase.html?s=JESUS" class="card">â¤ï¸<br>Amo Jesus</a>
    </div>

    <hr style="margin: 40px 0; border: 1px solid #90CAF9;">

    <div class="painel-criar">
        <h3>â• Criar Frase com o Lobo</h3>
        <p style="font-size: 0.9rem; color: #666;">Dica: Use <b>Windows + .</b> para os emojis!</p>
        
        <div id="container-palavras">
            <input type="text" id="novoEmoji" placeholder="Emoji aqui">
            <input type="text" id="novoID" placeholder="Nome do BotÃ£o (Ex: LANCHE)">
            
            <input type="text" class="palavra-input" placeholder="Palavra 1">
            <input type="text" class="palavra-input" placeholder="Palavra 2">
            <input type="text" class="palavra-input" placeholder="Palavra 3">
            <input type="text" class="palavra-input" placeholder="Palavra 4">
            <input type="text" class="palavra-input" placeholder="Palavra 5">
            <input type="text" class="palavra-input" placeholder="Palavra 6">
        </div>
        
        <button class="btn-salvar" onclick="salvarNovaFrase()">SALVAR NO DISPOSITIVO</button>
    </div>

    <script>
        // 1. Mover Lobo
        const lobo = document.getElementById('cursor-lobo');
        document.addEventListener('mousemove', e => { lobo.style.left = e.clientX + 'px'; lobo.style.top = e.clientY + 'px'; });
        document.addEventListener('touchmove', e => { 
            const t = e.touches[0]; lobo.style.left = t.clientX + 'px'; lobo.style.top = t.clientY + 'px'; 
        }, {passive: false});

        // 2. Salvar Frase (Sua lÃ³gica de captura mÃºltipla)
        function salvarNovaFrase() {
            const id = document.getElementById('novoID').value.toUpperCase().trim();
            const emoji = document.getElementById('novoEmoji').value || "âœ¨";
            const inputs = document.querySelectorAll('.palavra-input');
            let listaPalavras = [];
            
            inputs.forEach(input => {
                if(input.value.trim() !== "") {
                    listaPalavras.push(input.value.trim().toUpperCase());
                }
            });

            if(!id || listaPalavras.length === 0) {
                return alert("Preencha o Nome e pelo menos uma palavra!");
            }

            const fraseInteira = listaPalavras.join(' ');
            const somaTextoGerada = listaPalavras.join(' + ');

            const novaFrase = {
                emoji: emoji,
                palavra: fraseInteira,
                soma_texto: somaTextoGerada,
                fala_didatica: fraseInteira + "!",
                cor_fundo: "#F1F8E9",
                cor_contorno: "#4CAF50",
                proximo: "FIM"
            };

            let banco = JSON.parse(localStorage.getItem('minhasFrases') || '{}');
            banco[id] = novaFrase;
            localStorage.setItem('minhasFrases', JSON.stringify(banco));

            alert("Frase '" + id + "' salva com sucesso!");
            location.reload();
        }

        // 3. Mostrar frases criadas (Puxando do LocalStorage)
        const grid = document.getElementById('grid-principal');
        const salvas = JSON.parse(localStorage.getItem('minhasFrases') || '{}');
        Object.keys(salvas).forEach(id => {
            const d = salvas[id];
            const a = document.createElement('a');
            a.href = `fase.html?s=${id}&custom=true`;
            a.className = 'card';
            a.style.borderColor = "#4CAF50";
            a.innerHTML = `<span>${d.emoji}</span><br>${id}`;
            grid.appendChild(a);
        });
    </script>
</body>
</html>
